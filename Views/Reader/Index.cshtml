@using System.Security.Claims;
@model IEnumerable<Reader>

@{
    var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);
    var adminRole = User.IsInRole("Administrator");
    var userRole = User.IsInRole("User");
}


<body class="loading">
    <!-- Begin page -->
    <div class="wrapper">
        <!-- Start Page Content here -->
        <div class="content">
            <!-- Start Content-->
            <div class="container-fluid">
                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <h4 class="page-title">Читатели</h4>
                        </div>
                    </div>
                </div>
                <!-- end page title -->

                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-centered table-striped dt-responsive nowrap w-100" id="products-datatable">
                                        <thead>
                                            <tr>
                                                <th>Читатель</th>
                                                <th>Телефон</th>
                                                <th>Email</th>
                                                <th>Дата регистрации</th>
                                                <th>Число книг на руках</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var reader in Model)
                                            {
                                                <tr>
                                                    <td class="table-user">
                                                        <img src="/images/Avatar.jpeg" alt="table-user" class="me-2 rounded-circle">
                                                        <a class="text-body fw-semibold" asp-controller="Reader" asp-action="ShowReader" asp-route-readerId="@reader.Id">@reader.FullName</a>
                                                    </td>
                                                    <td>
                                                        79511907958
                                                    </td>
                                                    <td>
                                                        email
                                                    </td>
                                                    <td>
                                                        07/07/2018
                                                    </td>
                                                    <td>
                                                        @reader.Books.Count()
                                                    </td>
                                                </tr>
                                            }
                                        </tbody>

                                    </table>
                                </div>
                            </div> <!-- end card-body-->
                        </div> <!-- end card-->
                    </div> <!-- end col -->
                </div>
                <!-- end row -->

            </div> <!-- container -->

        </div> <!-- content -->


    </div>
    <!-- END wrapper -->
    <!-- bundle -->
    <script src="/html/saas/assets/js/vendor.min.js"></script>
    <script src="/html/saas/assets/js/app.min.js"></script>

    <!-- third party js -->
    <script src="/html/saas/assets/js/vendor/jquery.dataTables.min.js"></script>
    <script src="/html/saas/assets/js/vendor/dataTables.bootstrap5.js"></script>
    <script src="/html/saas/assets/js/vendor/dataTables.responsive.min.js"></script>
    <script src="/html/saas/assets/js/vendor/responsive.bootstrap5.min.js"></script>
    <script src="/html/saas/assets/js/vendor/dataTables.checkboxes.min.js"></script>
    <!-- third party js ends -->
    <!-- demo app -->
    <script src="/html/saas/assets/js/pages/demo.customers.js"></script>
    <!-- end demo js-->

</body>




